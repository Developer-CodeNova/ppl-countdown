<!DOCTYPE html>
<html>
<head>
  <title>PPLX AI</title>
  <style>
    body { font-family: Arial; background:#111; color:#fff; text-align:center; }
    input, button { padding:10px; font-size:16px; }
    #chat { margin-top:20px; }
  </style>
</head>
<body>

<h2>ğŸ PPLX AI Assistant</h2>

<input id="q" placeholder="Ask about Orange Cap, POTT, value..." size="40">
<button onclick="ask()">Ask</button>
<button onclick="voice()">ğŸ¤</button>

<div id="chat"></div>

<script>
const API = https://script.google.com/macros/s/AKfycbwVEbowDpCcCuWsaDSr7W3jMN_TlspQt66S6NBsUV9oIJMSZghmqU7YZSuOlQlcFJEP/exec;

function ask(text) {
  const q = text || document.getElementById("q").value;
  fetch(API + "?q=" + encodeURIComponent(q))
    .then(r => r.text())
    .then(reply => {
      document.getElementById("chat").innerHTML =
        "<p><b>You:</b> " + q + "</p><p><b>PPLX:</b> " + reply + "</p>";
      speak(reply);
    });
}

function speak(text) {
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "en-IN";
  speechSynthesis.speak(msg);
}

function voice() {
  const rec = new webkitSpeechRecognition();
  rec.lang = "en-IN";
  rec.onresult = e => ask(e.results[0][0].transcript);
  rec.start();
}
</script>

</body>
</html>